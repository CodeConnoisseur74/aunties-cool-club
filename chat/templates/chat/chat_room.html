{% extends 'base.html' %}

{% block content %}
<div class="flex flex-col h-screen">
  <div id="messages" class="flex-grow overflow-y-auto p-4">
    {% for message in messages %}
      <div class="{% if message.sender == request.user %} text-right {% else %} text-left {% endif %}">
        <div class="inline-block p-2 rounded-lg {% if message.sender == request.user %} bg-blue-500 text-white {% else %} bg-gray-300 {% endif %}">
          <p><strong>{{ message.sender.username }}</strong>: {{ message.text }}</p>
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="p-4 sticky bottom-0 bg-white">
    <form id="chat-form">
      {% csrf_token %}
      <textarea id="message-input" name="text" class="w-full p-2 border rounded" placeholder="Type your message..." required></textarea>
      <button type="submit" class="mt-2 p-2 bg-blue-500 text-white rounded">Send</button>
    </form>
  </div>
</div>
{% endblock %}
