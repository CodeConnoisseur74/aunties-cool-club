{% extends 'base.html' %}
{% block content %}
  <div class="flex flex-col h-screen">
    <div class="flex-grow overflow-y-auto p-4" id="messages">
      {% for message in messages %}
        <div class="{% if message.sender == request.user %}

            text-right

          {% else %}

            text-left

          {% endif %}">
          <div class="inline-block p-2 rounded-lg {% if message.sender == request.user %}

              bg-blue-500 text-white

            {% else %}

              bg-gray-300

            {% endif %}">
            <p>{{ message.text }}</p>
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="p-4">
      <form hx-post="{% url 'send_message' chat_room.id %}" hx-target="#messages" hx-swap="beforeend">
        {% csrf_token %}
        <input type="text" name="text" placeholder="Type your message..." class="w-full p-2 border rounded" />
        <button type="submit" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded">Send</button>
      </form>
    </div>
  </div>
{% endblock %}
